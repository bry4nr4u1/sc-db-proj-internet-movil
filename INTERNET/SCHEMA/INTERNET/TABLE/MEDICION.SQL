USE [INTERNET]
GO
/****** Object:  Table [INTERNET].[MEDICION]    Script Date: 5/05/2024 08:26 p. m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [INTERNET].[MEDICION](
	[IDEMED] [int] NOT NULL,
	[FECMED] [date] NOT NULL,
	[HRAMED] [varchar](5) NOT NULL,
	[NUMMED] [smallint] NOT NULL,
	[DWLINK] [decimal](7, 4) NULL,
	[UPLINK] [decimal](7, 4) NULL,
	[LATMED] [int] NULL,
	[NIVINT] [int] NULL,
	[IDESRV] [char](1) NOT NULL,
	[LTDMED] [decimal](8, 5) NOT NULL,
	[LONMED] [decimal](8, 5) NOT NULL,
	[IDECUA] [varchar](10) NOT NULL,
	[TXTOBS] [varchar](1000) NULL,
	[IDEIMEI] [char](15) NOT NULL,
	[IDEOPE] [char](3) NOT NULL,
	[IDETEC] [varchar](10) NOT NULL,
	[IDEDEP] [char](2) NOT NULL,
	[IDEPRV] [char](2) NOT NULL,
	[IDEDST] [char](2) NOT NULL,
	[IDECPB] [char](4) NOT NULL,
	[STSMED] [char](3) NOT NULL,
	[FECCRN] [datetime] NULL,
	[FECMOD] [datetime] NULL,
	[IDEARC] [int] NOT NULL,
	[VALNMRODWL] [tinyint] NOT NULL,
	[VALNMROUPL] [tinyint] NOT NULL,
	[VALHORAMED] [tinyint] NOT NULL,
	[VALDIAPMED] [tinyint] NOT NULL,
	[VALDIAFMED] [tinyint] NOT NULL,
	[VALVELGDWL] [tinyint] NOT NULL,
	[VALVELGUPL] [tinyint] NOT NULL,
 CONSTRAINT [PK_MEDICION] PRIMARY KEY CLUSTERED 
(
	[IDEMED] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [INTERNET].[MEDICION] ADD  DEFAULT (NEXT VALUE FOR [INTERNET].[SQ_MEDICION]) FOR [IDEMED]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [FK_ARCHIVO_X_MEDICION] FOREIGN KEY([IDEARC])
REFERENCES [INTERNET].[ARCHIVO] ([IDEARC])
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [FK_ARCHIVO_X_MEDICION]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [FK_CENTRO_POBLADO_X_MEDICION] FOREIGN KEY([IDEDEP], [IDEPRV], [IDEDST], [IDECPB])
REFERENCES [INTERNET].[CENTRO_POBLADO] ([IDEDEP], [IDEPRV], [IDEDST], [IDECPB])
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [FK_CENTRO_POBLADO_X_MEDICION]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [FK_MOVIL_X_MEDICION] FOREIGN KEY([IDEIMEI])
REFERENCES [INTERNET].[MOVIL] ([IDEIMEI])
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [FK_MOVIL_X_MEDICION]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [FK_OPERADORA_X_MEDICION] FOREIGN KEY([IDEOPE])
REFERENCES [INTERNET].[OPERADORA] ([IDEOPE])
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [FK_OPERADORA_X_MEDICION]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [FK_TECNOLOGIA_X_MEDICION] FOREIGN KEY([IDETEC])
REFERENCES [INTERNET].[TECNOLOGIA] ([IDETEC])
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [FK_TECNOLOGIA_X_MEDICION]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_DWLINK_SIGNO] CHECK  (([DWLINK]>=(0)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_DWLINK_SIGNO]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_FECMED_PERIODO] CHECK  (([INTERNET].[Validar_Periodo]([FECMED])=(1)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_FECMED_PERIODO]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_LATMED_SIGNO] CHECK  (([LATMED]>=(0)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_LATMED_SIGNO]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_LONMED_SIGNO] CHECK  (([LONMED]<=(0)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_LONMED_SIGNO]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_LTDMED_SIGNO] CHECK  (([LTDMED]<=(0)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_LTDMED_SIGNO]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_NIVINT_SIGNO] CHECK  (([NIVINT]<=(0)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_NIVINT_SIGNO]
GO
ALTER TABLE [INTERNET].[MEDICION]  WITH CHECK ADD  CONSTRAINT [CK_UPLINK_SIGNO] CHECK  (([UPLINK]>=(0)))
GO
ALTER TABLE [INTERNET].[MEDICION] CHECK CONSTRAINT [CK_UPLINK_SIGNO]
GO
